# üó∫Ô∏è Roadmap del Agente Personal

Este documento describe la hoja de ruta completa del proyecto, incluyendo funcionalidades implementadas y planificadas.

---

## ‚úÖ Fase 1: Core del Agente (COMPLETADO)

### Sistema Base
- [x] **Arquitectura de orquestaci√≥n** - Function calling con OpenRouter
- [x] **Sistema de herramientas (Tools)** - Framework extensible
- [x] **Gesti√≥n de configuraci√≥n** - `.env` + `agent_config.yaml`
- [x] **Sistema de logging** - Logs estructurados
- [x] **Multi-usuario** - Soporte via `user_id`

### Integraciones Core
- [x] **Calcurse** - Calendario y tareas en terminal
- [x] **SQLite** - Persistencia de tareas con aiosqlite
- [x] **Dunst** - Notificaciones desktop
- [x] **APScheduler** - Recordatorios programados
- [x] **Sistema de alarmas** - Alarmas con sonido persistente

### Interfaces
- [x] **CLI** - Interfaz de l√≠nea de comandos con Rich
- [x] **Bot de Telegram** - Interface m√≥vil completa

### Herramientas Implementadas (10)
1. `calendar_create_event` - Crear eventos
2. `calendar_get_agenda` - Ver agenda
3. `task_create` - Crear tareas
4. `task_list` - Listar tareas
5. `task_complete` - Completar tareas
6. `notification_send` - Notificaciones
7. `reminder_create` - Recordatorios
8. `reminder_list` - Ver recordatorios
9. `reminder_cancel` - Cancelar recordatorios
10. `alarm_create` - Alarmas con sonido

---

## üöÄ Fase 2: Gesti√≥n de Comunicaciones (EN PROGRESO)

### Integraciones de Redes Sociales y Comunicaci√≥n

#### üìß Gmail - Gesti√≥n Inteligente de Emails
**Estado:** Planificado
**Prioridad:** ALTA

**Funcionalidades:**
- [ ] Leer emails no le√≠dos
- [ ] Clasificaci√≥n autom√°tica por prioridad
  - Urgente: De jefes, clientes importantes, palabras clave
  - Alta: Trabajo, proyectos activos
  - Media: Newsletters relevantes
  - Baja: Marketing, promociones
- [ ] Respuestas automatizadas con plantillas de negocio
  - Plantilla: "Recibido, te respondo en X horas"
  - Plantilla: "Gracias por tu email, lo reviso y te contesto"
  - Plantilla: "Reuni√≥n confirmada para X fecha"
- [ ] Res√∫menes diarios/semanales
- [ ] Detecci√≥n de emails que requieren acci√≥n
- [ ] Integraci√≥n con tareas (crear tarea desde email)

**Herramientas:**
- `gmail_read_unread` - Leer emails no le√≠dos
- `gmail_send` - Enviar email
- `gmail_reply_template` - Responder con plantilla
- `gmail_get_summary` - Resumen de emails
- `gmail_create_task_from_email` - Crear tarea desde email

**Configuraci√≥n:**
```yaml
integrations:
  gmail:
    enabled: true
    check_interval: 300  # 5 minutos
    priority_keywords:
      urgent: ["urgente", "asap", "importante"]
      business: ["reuni√≥n", "proyecto", "entrega"]
    auto_reply:
      enabled: true
      only_business_hours: true
      templates:
        acknowledgment: "Gracias por tu email. Lo revisar√© pronto."
        meeting_confirm: "Reuni√≥n confirmada."
```

---

#### üêô GitHub - Notificaciones y Gesti√≥n de Proyectos
**Estado:** Planificado
**Prioridad:** ALTA

**Funcionalidades:**
- [ ] Notificaciones de PRs, issues, mentions
- [ ] Clasificaci√≥n por prioridad
  - Cr√≠tico: PRs que te bloquean, mentions directos
  - Alto: PRs para review, issues asignados
  - Medio: Actividad en repos watching
- [ ] Resumen diario de actividad
- [ ] Creaci√≥n r√°pida de issues
- [ ] Review de PRs (comentarios, aprobar)
- [ ] Integraci√≥n con tareas (crear tarea desde issue)

**Herramientas:**
- `github_get_notifications` - Obtener notificaciones
- `github_create_issue` - Crear issue
- `github_review_pr` - Revisar PR
- `github_get_summary` - Resumen de actividad
- `github_sync_tasks` - Sincronizar con tareas

**Configuraci√≥n:**
```yaml
integrations:
  github:
    enabled: true
    check_interval: 600  # 10 minutos
    repos_watching:
      - "user/important-repo"
      - "org/project"
    notifications:
      priority_labels:
        critical: ["bug", "urgent", "blocking"]
        high: ["enhancement", "needs-review"]
```

---

#### üíº LinkedIn - Networking y Oportunidades
**Estado:** Planificado
**Prioridad:** MEDIA

**Funcionalidades:**
- [ ] Notificaciones de mensajes
- [ ] Resumen de actividad de tu red
- [ ] Alertas de empleos relevantes
- [ ] Respuestas automatizadas (solo networking)
  - Plantilla: "Gracias por conectar, charlemos pronto"
  - Plantilla: "Interesante propuesta, te contacto en X d√≠as"
- [ ] Programar posts (contenido profesional)

**Herramientas:**
- `linkedin_get_messages` - Leer mensajes
- `linkedin_reply_template` - Responder con plantilla
- `linkedin_get_job_alerts` - Alertas de empleo
- `linkedin_schedule_post` - Programar publicaci√≥n

**Configuraci√≥n:**
```yaml
integrations:
  linkedin:
    enabled: true
    check_interval: 3600  # 1 hora
    job_alerts:
      enabled: true
      keywords: ["python", "ai", "remote"]
    auto_reply:
      enabled: true
      only_connections: true  # Solo responder a conexiones
```

---

#### üì± WhatsApp - Mensajes de Negocio
**Estado:** Planificado
**Prioridad:** MEDIA

**Funcionalidades:**
- [ ] Leer mensajes de WhatsApp Web
- [ ] Clasificaci√≥n por contacto (negocio vs personal)
- [ ] Respuestas automatizadas SOLO para negocio
  - Plantilla: "Hola, estoy en una reuni√≥n. Te respondo en X minutos"
  - Plantilla: "Mensaje recibido, te contacto pronto"
- [ ] NO responder autom√°ticamente a familiares/amigos
- [ ] Notificaciones de mensajes importantes
- [ ] Programar mensajes

**Herramientas:**
- `whatsapp_read_messages` - Leer mensajes
- `whatsapp_send` - Enviar mensaje
- `whatsapp_reply_template` - Responder con plantilla (solo negocio)
- `whatsapp_schedule_message` - Programar mensaje

**Configuraci√≥n:**
```yaml
integrations:
  whatsapp:
    enabled: true
    business_contacts:
      - "+1234567890"  # Cliente
      - "+0987654321"  # Proveedor
    auto_reply:
      enabled: true
      only_business: true  # SOLO contactos de negocio
      blacklist_family: true  # NO responder a familia
      templates:
        busy: "Estoy en una reuni√≥n, te respondo pronto."
        acknowledgment: "Mensaje recibido."
```

---

#### üì≤ Telegram - Notificaciones del Bot
**Estado:** ‚úÖ COMPLETADO
**Prioridad:** ALTA

**Funcionalidades:**
- [x] Bot completo funcional
- [x] Comandos: /start, /help, /agenda, /tareas
- [x] Conversaci√≥n en lenguaje natural
- [x] Todas las herramientas disponibles
- [x] Sistema de autorizaci√≥n por user_id
- [x] Notificaciones push (futuro)

**Configuraci√≥n:**
```yaml
integrations:
  telegram:
    enabled: true
    allowed_users:
      - 123456789
      - 987654321
    notifications:
      enabled: true
      events: true
      tasks: true
      reminders: true
```

---

## üí∞ Fase 3: Gesti√≥n Financiera Personal (NUEVA!)

### Sistema de Finanzas Inteligente

**Estado:** Planificado
**Prioridad:** ALTA

#### Funcionalidades Core

##### üìä Tracking de Gastos
- [ ] Registro manual de gastos
- [ ] Importaci√≥n desde bancos (CSV/API)
- [ ] Categorizaci√≥n autom√°tica con IA
  - Comida y restaurantes
  - Transporte
  - Entretenimiento
  - Servicios (luz, agua, internet)
  - Suscripciones
  - Inversiones
  - Otros
- [ ] Detecci√≥n de gastos recurrentes
- [ ] Alertas de gastos inusuales
- [ ] Presupuesto por categor√≠a

##### üí≥ Gesti√≥n de Cuentas
- [ ] M√∫ltiples cuentas (banco, efectivo, tarjetas)
- [ ] Balance total consolidado
- [ ] Transferencias entre cuentas
- [ ] Historial de transacciones
- [ ] Sincronizaci√≥n con bancos (Open Banking API)

##### üìà Inversiones y Ahorros
- [ ] Tracking de inversiones
- [ ] Metas de ahorro
- [ ] Proyecciones de ahorro
- [ ] An√°lisis de rentabilidad
- [ ] Alertas de objetivos alcanzados

##### üßæ Facturas y Pagos
- [ ] Recordatorios de facturas por pagar
- [ ] Tracking de pagos recurrentes (Netflix, Spotify, etc.)
- [ ] Alertas antes de vencimiento
- [ ] Historial de pagos
- [ ] Detecci√≥n de suscripciones olvidadas

##### üìä Reportes e Insights
- [ ] Resumen mensual de gastos
- [ ] Comparaci√≥n mes a mes
- [ ] Gr√°ficos de gastos por categor√≠a
- [ ] An√°lisis de tendencias
- [ ] Predicci√≥n de gastos futuros
- [ ] Recomendaciones de ahorro

**Herramientas Planificadas:**
- `finance_add_expense` - Registrar gasto
- `finance_add_income` - Registrar ingreso
- `finance_get_balance` - Ver balance actual
- `finance_get_summary` - Resumen financiero
- `finance_set_budget` - Establecer presupuesto
- `finance_get_insights` - An√°lisis inteligente
- `finance_import_transactions` - Importar desde banco
- `finance_track_investment` - Seguimiento de inversiones

**Base de Datos:**
```sql
-- Transacciones
transactions:
  - id
  - type (expense/income)
  - amount
  - category
  - description
  - account
  - date
  - recurring
  - tags

-- Cuentas
accounts:
  - id
  - name
  - type (bank/cash/card)
  - balance
  - currency

-- Presupuestos
budgets:
  - id
  - category
  - amount
  - period (daily/weekly/monthly)
  - alerts

-- Inversiones
investments:
  - id
  - name
  - type (stocks/crypto/fund)
  - amount_invested
  - current_value
  - date
```

**Integraciones:**
- [ ] Open Banking APIs (BBVA, Santander, etc.)
- [ ] Stripe/PayPal para freelancers
- [ ] Crypto exchanges (opcional)
- [ ] Google Sheets para backup
- [ ] Exportar a Excel/PDF

**Configuraci√≥n:**
```yaml
finance:
  enabled: true
  default_currency: "MXN"
  accounts:
    - name: "Banco Principal"
      type: "bank"
    - name: "Efectivo"
      type: "cash"
  budgets:
    monthly:
      food: 5000
      transport: 2000
      entertainment: 1500
      services: 3000
  alerts:
    high_expense_threshold: 1000
    low_balance_warning: 500
    budget_warning_percent: 80
  auto_categorization:
    enabled: true
    learning: true  # Aprende de tus categorizaciones
```

**Ejemplos de Uso:**
```
"Registra un gasto de $250 en comida"
"Cu√°l es mi balance total?"
"Cu√°nto he gastado este mes en transporte?"
"Estoy dentro de mi presupuesto de comida?"
"Crea una meta de ahorro de $10,000 para diciembre"
"Mu√©strame mi resumen financiero del mes"
"Importa mis transacciones del banco"
"Al√©rtame si gasto m√°s de $1000 en un d√≠a"
```

---

## üìä Fase 4: An√°lisis y Business Intelligence (FUTURO)

### Informes Inteligentes

#### Res√∫menes Autom√°ticos
- [ ] Resumen diario (ma√±ana, 8 AM)
  - Emails importantes recibidos
  - PRs/issues que requieren atenci√≥n
  - Tareas del d√≠a
  - Eventos del d√≠a
  - Mensajes de negocio pendientes

- [ ] Resumen semanal (domingo, 6 PM)
  - Productividad de la semana
  - Tareas completadas vs pendientes
  - Actividad en redes sociales
  - Oportunidades no atendidas

- [ ] Alertas en tiempo real
  - Email urgente detectado
  - PR cr√≠tico requiere review
  - Mensaje importante en WhatsApp
  - Conflicto en calendario

#### Dashboard Web
- [ ] Vista unificada de todas las plataformas
- [ ] Gr√°ficos de productividad
- [ ] Timeline de actividades
- [ ] Centro de notificaciones consolidado

---

## üß† Fase 4: Inteligencia Avanzada (FUTURO)

### Aprendizaje y Automatizaci√≥n

#### Sistema de Aprendizaje
- [ ] Aprender patrones de respuesta del usuario
- [ ] Sugerir respuestas basadas en contexto
- [ ] Detectar contactos de negocio autom√°ticamente
- [ ] Mejorar clasificaci√≥n de prioridades con uso

#### Automatizaciones Inteligentes
- [ ] Crear tareas autom√°ticamente desde emails
- [ ] Sincronizar deadlines de GitHub con calendario
- [ ] Sugerir tiempos √≥ptimos para responder
- [ ] Detectar oportunidades de networking

#### Integraciones Adicionales
- [ ] Slack - Mensajes de equipo
- [ ] Discord - Comunidades y proyectos
- [ ] Google Calendar - Sincronizaci√≥n bidireccional
- [ ] Notion/Obsidian - Knowledge base
- [ ] Trello/Jira - Gesti√≥n de proyectos

---

## üèóÔ∏è Fase 5: Infraestructura Avanzada (FUTURO)

### Escalabilidad
- [ ] API REST completa (FastAPI)
- [ ] WebSocket para actualizaciones en tiempo real
- [ ] Sincronizaci√≥n multi-dispositivo (Redis)
- [ ] App m√≥vil nativa (React Native)
- [ ] Extensi√≥n de navegador (Chrome/Firefox)

### Seguridad
- [ ] Encriptaci√≥n de datos sensibles
- [ ] Autenticaci√≥n OAuth para todas las integraciones
- [ ] Auditor√≠a de acciones autom√°ticas
- [ ] Modo "solo lectura" para respuestas autom√°ticas

### Performance
- [ ] Cach√© inteligente de consultas
- [ ] Procesamiento as√≠ncrono de notificaciones
- [ ] Queue system para tareas pesadas
- [ ] CDN para assets est√°ticos

---

## üìÖ Timeline Estimado

### Q1 2025
- ‚úÖ Core del agente (Fase 1) - COMPLETADO
- ‚úÖ Bot de Telegram - COMPLETADO
- ‚úÖ Sistema de alarmas - COMPLETADO
- üîÑ Integraci√≥n Gmail - SIGUIENTE
- üîÑ Integraci√≥n GitHub - SIGUIENTE

### Q2 2025
- üí∞ Sistema de finanzas personal
- üì± LinkedIn, WhatsApp
- üìä Res√∫menes autom√°ticos
- üåê Dashboard web b√°sico

### Q3 2025
- üß† Inteligencia avanzada
- ü§ñ Automatizaciones
- üîå M√°s integraciones (Slack, Discord)

### Q4 2025
- üèóÔ∏è Infraestructura escalable
- üì± App m√≥vil
- üîß Extensi√≥n de navegador

---

## üéØ Prioridades Actuales

### Completadas
1. ‚úÖ **Sistema de alarmas** - COMPLETADO
2. ‚úÖ **Bot de Telegram** - COMPLETADO

### En Cola (Orden de Implementaci√≥n)
3. üîÑ **Integraci√≥n Gmail** - ALTA PRIORIDAD
   - Clasificaci√≥n inteligente
   - Respuestas autom√°ticas de negocio
   - Res√∫menes diarios

4. üîÑ **Integraci√≥n GitHub** - ALTA PRIORIDAD
   - Notificaciones priorizadas
   - Gesti√≥n de PRs/issues
   - Sincronizaci√≥n con tareas

5. üí∞ **Sistema de Finanzas** - ALTA PRIORIDAD
   - Tracking de gastos
   - Presupuestos y metas
   - An√°lisis inteligente

6. üì± **LinkedIn** - MEDIA PRIORIDAD
   - Networking automatizado
   - Alertas de oportunidades

7. üì± **WhatsApp** - MEDIA PRIORIDAD
   - Respuestas de negocio
   - Clasificaci√≥n de contactos

8. üåê **Dashboard Web** - MEDIA PRIORIDAD
   - Visualizaci√≥n consolidada
   - Centro de control

---

## ü§ù Contribuciones

Este es un proyecto personal, pero las ideas y sugerencias son bienvenidas.

Para proponer nuevas integraciones o features:
1. Abre un issue en GitHub
2. Describe el caso de uso
3. Sugiere la prioridad

---

## üìù Notas de Dise√±o

### Filosof√≠a de Respuestas Autom√°ticas

**Principios:**
1. **NUNCA** responder autom√°ticamente a familia/amigos
2. Respuestas autom√°ticas **SOLO** en contexto de negocio
3. Siempre dar la opci√≥n de deshabilitar auto-respuestas
4. Las plantillas deben ser profesionales pero cercanas
5. Informar al usuario de todas las acciones autom√°ticas

**Clasificaci√≥n de Contactos:**
- **Negocio:** Clientes, proveedores, colegas de trabajo
- **Personal:** Familia, amigos cercanos
- **Networking:** Contactos profesionales, LinkedIn
- **Marketing:** Newsletters, promociones

**Niveles de Automatizaci√≥n:**
- **Nivel 0:** Solo notificaciones (familia)
- **Nivel 1:** Notificaciones + res√∫menes (networking)
- **Nivel 2:** Notificaciones + respuestas plantilla (negocio)
- **Nivel 3:** Automatizaci√≥n completa (marketing)

---

## üîí Consideraciones de Privacidad

- Todas las credenciales en `.env` (nunca en c√≥digo)
- OAuth 2.0 para todas las integraciones
- Encriptaci√≥n de tokens en base de datos
- Logs sin informaci√≥n sensible
- Opci√≥n de borrar todo el historial
- Exportar/importar configuraci√≥n

---

√öltima actualizaci√≥n: Octubre 2025
